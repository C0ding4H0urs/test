"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3130],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return h}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(a),u=i,h=m["".concat(p,".").concat(u)]||m[u]||c[u]||r;return a?n.createElement(h,o(o({ref:t},d),{},{components:a})):n.createElement(h,o({ref:t},d))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},9770:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s}});var n=a(3117),i=(a(7294),a(3905));const r={title:"Overview"},o=void 0,l={unversionedId:"giveaway/basic-v2/overview",id:"giveaway/basic-v2/overview",title:"Overview",description:"This is version 2 of the giveaway package, with all the features of version 1 in addition to reroll support!",source:"@site/docs/giveaway/basic-v2/overview.md",sourceDirName:"giveaway/basic-v2",slug:"/giveaway/basic-v2/overview",permalink:"/giveaway/basic-v2/overview",draft:!1,editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/website/docs/giveaway/basic-v2/overview.md",tags:[],version:"current",frontMatter:{title:"Overview"},sidebar:"sidebar",previous:{title:"Reaction Handler",permalink:"/giveaway/basic/reaction-handler"},next:{title:"Main CC",permalink:"/giveaway/basic-v2/main-cc"}},p={},s=[{value:"Features",id:"features",level:2},{value:"Installation",id:"installation",level:2},{value:"Main Command",id:"main-command",level:3},{value:"Reaction Handler",id:"reaction-handler",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Usage",id:"usage",level:2},{value:"<code>giveaway start &lt;time&gt; [prize]</code>",id:"giveaway-start-time-prize",level:3},{value:"Arguments",id:"arguments",level:4},{value:"Optional Flags",id:"optional-flags",level:4},{value:"Example",id:"example",level:4},{value:"<code>giveaway end &lt;id&gt;</code>",id:"giveaway-end-id",level:3},{value:"<code>giveaway cancel &lt;id&gt;</code>",id:"giveaway-cancel-id",level:3},{value:"<code>giveaway reroll [id-or-n]</code>",id:"giveaway-reroll-id-or-n",level:3},{value:"Example",id:"example-1",level:4},{value:"<code>giveaway list</code>",id:"giveaway-list",level:3},{value:"execCC support",id:"execcc-support",level:2},{value:"Examples",id:"examples",level:3},{value:"Author",id:"author",level:2}],d={toc:s},m="wrapper";function c(e){let{components:t,...a}=e;return(0,i.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This is version 2 of the giveaway package, with all the features of version 1 in addition to reroll support!"),(0,i.kt)("h2",{id:"features"},"Features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start giveaways with duration, optional prize, number of participants, number of winners, and giveaway channel."),(0,i.kt)("li",{parentName:"ul"},"End giveaways and announce winners instantly."),(0,i.kt)("li",{parentName:"ul"},"Cancel giveaways without announcing winners."),(0,i.kt)("li",{parentName:"ul"},"Re-roll an old giveaway to find new winners."),(0,i.kt)("li",{parentName:"ul"},"List all active giveaways."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"execCC")," support for automating giveaway creation/cancellation/etc. from custom commands.")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"This package contains two custom commands: the ",(0,i.kt)("a",{parentName:"p",href:"main-cc"},"main command"),", and a ",(0,i.kt)("a",{parentName:"p",href:"reaction-handler"},"reaction handler"),"."),(0,i.kt)("p",null,"Both must be added for the system to work as expected. As usual, there are instructions describing where to put the script and which trigger to use on the pages corresponding to the individual commands. Additionally, we've documented how and where to add these scripts down below."),(0,i.kt)("h3",{id:"main-command"},"Main Command"),(0,i.kt)("p",null,"Add the ",(0,i.kt)("a",{parentName:"p",href:"main-cc"},"main command")," as a new custom command.\nThe trigger is a command trigger type with value ",(0,i.kt)("inlineCode",{parentName:"p"},"giveaway"),", but it will also work with a ",(0,i.kt)("inlineCode",{parentName:"p"},"StartsWith")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Regex")," trigger if set up properly."),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"As the code is very long, you will not be able to save it directly. To get around this, remove the parts highlighted in red below:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"- {{/*\n-   Main giveaway command, supports invocation via execCC.\n-   See <LINK> for more information.\n-\n-   Author: Satty9361 <https://github.com/Satty9361>\n- */}}\n-\n- {{/* Configurable values */}}\n{{$giveawayEmoji:=`\ud83c\udf89`}}\n{{/* End of configurable values */}}\n\n{{/* rest of code... */}}\n"))),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Unless you would like everyone to be able to manage giveaways, we advise that you restrict this command to a staff role in the role restrictions.")),(0,i.kt)("p",null,"Save for now, we'll come back to it later."),(0,i.kt)("h3",{id:"reaction-handler"},"Reaction Handler"),(0,i.kt)("p",null,"Next, add the ",(0,i.kt)("a",{parentName:"p",href:"reaction-handler"},"reaction handler")," as a new custom command. The trigger is a reaction type with the ",(0,i.kt)("inlineCode",{parentName:"p"},"Added + Removed Reactions")," option enabled."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"At this point, your giveaway system should be usable! If you would like to customize the giveaway emoji, see ",(0,i.kt)("a",{parentName:"p",href:"overview/#configuration"},"here"),".\nFor how to use it, please refer to the ",(0,i.kt)("a",{parentName:"p",href:"overview/#usage"},"usage")," section.")),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"There is one configurable value in this package, ",(0,i.kt)("inlineCode",{parentName:"p"},"$giveawayEmoji"),", which corresponds to the giveaway emoji that should be used."),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"If you change the giveaway emoji to something different from the default, you need to change it in both the ",(0,i.kt)("a",{parentName:"p",href:"main-cc"},"main command")," and the ",(0,i.kt)("a",{parentName:"p",href:"reaction-handler"},"reaction handler"),".\nOtherwise, unexpected behavior may occur.")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"The giveaway command has an inbuilt help message similar to the following which you can pull up by running ",(0,i.kt)("inlineCode",{parentName:"p"},"-giveaway")," with no arguments.")),(0,i.kt)("h3",{id:"giveaway-start-time-prize"},(0,i.kt)("inlineCode",{parentName:"h3"},"giveaway start <time> [prize]")),(0,i.kt)("p",null,"Starts a new giveaway."),(0,i.kt)("h4",{id:"arguments"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"<time>")," - Specifies the amount of time after which the giveaway winners will be announced/how long the giveaway will be active. Format is ",(0,i.kt)("inlineCode",{parentName:"p"},"(num)y(num)mo(num)w(num)d(num)h(num)m(num)s"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Example:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"1y7mo2w1d3h4m15s = 1 year 7 months 2 weeks 1 day 3 hours 4 minutes and 15 seconds"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Note:")," Must not contain spaces in between. Stick to the format above only, i.e. use ",(0,i.kt)("inlineCode",{parentName:"p"},"d"),", not ",(0,i.kt)("inlineCode",{parentName:"p"},"days")," for specifying days and so on.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"[prize]")," - The prize of the giveaway, can be multiple words."))),(0,i.kt)("h4",{id:"optional-flags"},"Optional Flags"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Flag"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Argument Type"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Usage"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"-p"),(0,i.kt)("td",{parentName:"tr",align:"center"},"number"),(0,i.kt)("td",{parentName:"tr",align:"center"},"specifies the max number of participants (default is unlimited).")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"-w"),(0,i.kt)("td",{parentName:"tr",align:"center"},"number"),(0,i.kt)("td",{parentName:"tr",align:"center"},"specifies the number of winners (default is 1).")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"-c"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Channel (ID/Mention)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"specifies the channel for giveaway to take place (default is current channel).")))),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"-giveaway start 1d12h Ps4 Pro -p 50 -w 2 -c #giveaways\n")),(0,i.kt)("p",null,"Starts a giveaway in ",(0,i.kt)("inlineCode",{parentName:"p"},"#giveaways")," which will remain active for 1 day 12 hours with the maximum participants set to 50 and number of winners set to 2."),(0,i.kt)("h3",{id:"giveaway-end-id"},(0,i.kt)("inlineCode",{parentName:"h3"},"giveaway end <id>")),(0,i.kt)("p",null,"Ends the giveaway with the ID provided and announces the winners instantly. Updates the giveaway announcement message."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The ID is the long number which can be obtained using the ",(0,i.kt)("inlineCode",{parentName:"p"},"giveaway list")," command. It is also mentioned in the giveaway announcement embed.")),(0,i.kt)("h3",{id:"giveaway-cancel-id"},(0,i.kt)("inlineCode",{parentName:"h3"},"giveaway cancel <id>")),(0,i.kt)("p",null,"Cancels the giveaway with the ID provided without announcing the winners. Updates the giveaway announcement message."),(0,i.kt)("h3",{id:"giveaway-reroll-id-or-n"},(0,i.kt)("inlineCode",{parentName:"h3"},"giveaway reroll [id-or-n]")),(0,i.kt)("p",null,"Re-rolls an old giveaway, which was finished earlier, to find new winner(s). If no argument is passed, the most recently finished giveaway is re-rolled."),(0,i.kt)("p",null,"Accepts an optional argument which could either be the ID of an old giveway or a number between 1-10, which represents the ",(0,i.kt)("em",{parentName:"p"},"n"),"th previously finished giveaway."),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"giveaway reroll 2\n")),(0,i.kt)("p",null,"Re-rolls the giveaway finished before the most recently finished giveaway."),(0,i.kt)("h3",{id:"giveaway-list"},(0,i.kt)("inlineCode",{parentName:"h3"},"giveaway list")),(0,i.kt)("p",null,"Lists all active giveaways with their IDs, prize, and ending time."),(0,i.kt)("h2",{id:"execcc-support"},"execCC support"),(0,i.kt)("p",null,"This command package has intuitive support for ",(0,i.kt)("inlineCode",{parentName:"p"},"execCC"),". Simply call the command with data set to a string structured like follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"giveaway <subcommand> <arg0> <arg1> ...\n")),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},'{{execCC $CCID_for_giveaway_cc nil 0 "-giveaway start 1d Coins -w 2"}}')," is equivalent to ",(0,i.kt)("inlineCode",{parentName:"p"},"-giveaway start 1d Coins"),"\nStarts a giveaway in the same channel in which ",(0,i.kt)("inlineCode",{parentName:"p"},"execCC")," is invoked with a duration of 1 day with max winners set to 2 and prize set to ",(0,i.kt)("inlineCode",{parentName:"p"},"Coins"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},'{{execCC $CCID_for_giveaway_cc nil 0 "-givewaway end 11106339"}}')," is equivalent to ",(0,i.kt)("inlineCode",{parentName:"p"},"-giveaway end 11106339"),"\nEnds the giveaway with ID ",(0,i.kt)("inlineCode",{parentName:"p"},"11106339")," immediately and announces the winners."))),(0,i.kt)("h2",{id:"author"},"Author"),(0,i.kt)("p",null,"This custom command package was written by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Satty9361"},"@Satty9361"),"."))}c.isMDXComponent=!0}}]);