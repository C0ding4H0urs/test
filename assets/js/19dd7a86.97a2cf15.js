(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[366],{3905:function(e,i,n){"use strict";n.d(i,{Zo:function(){return d},kt:function(){return p}});var t=n(7294);function a(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function o(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?o(Object(n),!0).forEach((function(i){a(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}function r(e,i){if(null==e)return{};var n,t,a=function(e,i){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],i.indexOf(n)>=0||(a[n]=e[n]);return a}(e,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=t.createContext({}),m=function(e){var i=t.useContext(l),n=i;return e&&(n="function"==typeof e?e(i):s(s({},i),e)),n},d=function(e){var i=m(e.components);return t.createElement(l.Provider,{value:i},e.children)},g={inlineCode:"code",wrapper:function(e){var i=e.children;return t.createElement(t.Fragment,{},i)}},c=t.forwardRef((function(e,i){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),c=m(n),p=a,f=c["".concat(l,".").concat(p)]||c[p]||g[p]||o;return n?t.createElement(f,s(s({ref:i},d),{},{components:n})):t.createElement(f,s({ref:i},d))}));function p(e,i){var n=arguments,a=i&&i.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=c;var r={};for(var l in i)hasOwnProperty.call(i,l)&&(r[l]=i[l]);r.originalType=e,r.mdxType="string"==typeof e?e:a,s[1]=r;for(var m=2;m<o;m++)s[m]=n[m];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7053:function(e,i,n){"use strict";n.r(i),n.d(i,{frontMatter:function(){return r},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return d},default:function(){return c}});var t=n(2122),a=n(9756),o=(n(7294),n(3905)),s=["components"],r={title:"Big Emoji v2"},l=void 0,m={unversionedId:"utilities/big-emoji-v2",id:"utilities/big-emoji-v2",isDocsHomePage:!1,title:"Big Emoji v2",description:"An improved version of the original big emoji CC. Has all the features of the original version, but also the following features:",source:"@site/docs/utilities/big-emoji-v2.md",sourceDirName:"utilities",slug:"/utilities/big-emoji-v2",permalink:"/utilities/big-emoji-v2",editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/website/docs/utilities/big-emoji-v2.md",version:"current",frontMatter:{title:"Big Emoji v2"},sidebar:"sidebar",previous:{title:"Big Emoji v1",permalink:"/utilities/big-emoji-v1"},next:{title:"Bookmark Message",permalink:"/utilities/bookmark"}},d=[{value:"Trigger",id:"trigger",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Code",id:"code",children:[]},{value:"Attribution",id:"attribution",children:[]},{value:"Author",id:"author",children:[]}],g={toc:d};function c(e){var i=e.components,n=(0,a.Z)(e,s);return(0,o.kt)("wrapper",(0,t.Z)({},g,n,{components:i,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"An improved version of the ",(0,o.kt)("a",{parentName:"p",href:"big-emoji-v1"},"original big emoji CC"),". Has all the features of the original version, but also the following features:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"View emojis using message ID"),(0,o.kt)("li",{parentName:"ul"},"View emojis from other members' messages"),(0,o.kt)("li",{parentName:"ul"},"View reaction emojis"),(0,o.kt)("li",{parentName:"ul"},"Will generate a list of emojis (up to 25) to view if there are multiple targets.")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Moderation")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"While it's fun to view emojis other members are using this is also a moderation tool. It can often be difficult to see detailed emojis in messages or when used as reactions; being able to safely pull them into a staff channel can allow you to moderate things such as NSFW emojis without drawing attention to them. This also allows you to better view reactions while on mobile since Discord has made it near impossible to view reaction names and images."))),(0,o.kt)("h2",{id:"trigger"},"Trigger"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Type:")," ",(0,o.kt)("inlineCode",{parentName:"p"},"Regex"),(0,o.kt)("br",null),"\n",(0,o.kt)("strong",{parentName:"p"},"Trigger:")," ",(0,o.kt)("inlineCode",{parentName:"p"},"\\A(-|<@!?204255221017214977>\\s*)(be|big-?emo(te|ji))(\\s+|\\z)")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji <emoji>")," - Views an enlarged version of the emoji provided."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji <message-id>")," - Views enlarged versions of emojis within the message provided. Should be in the same channel as the triggering command."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji <message-id> -re")," - Same as above, but views reaction emojis instead."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji <link>")," - Views enlarged versions of emojis within the message provided. Should be in a channel which YAGPDB has access to."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji <link> -re")," - Same as above, but views reaction emojis instead."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"-bigemoji help")," - Displays a help message similar to the above.")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Limitations")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Due to a few limitations some default emojis won't generate proper links or may be incorrect altogether. Most will work but some will not, sorry for any inconvenience."),(0,o.kt)("p",{parentName:"div"},"Custom emojis are displayed in their actual image size, while default emojis are displayed in 72x72 as that is the largest size the Twemoji CDN provides in PNG format."))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Aliases")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"bigemoji"),", you can also use ",(0,o.kt)("inlineCode",{parentName:"p"},"be"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"bigemote"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"big-emote"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"big-emoji"),"."))),(0,o.kt)("h2",{id:"code"},"Code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go",metastring:"file=../../../src/utilities/big_emoji_v2.go.tmpl",file:"../../../src/utilities/big_emoji_v2.go.tmpl"},'{{/*\n    Allows you to enlarge virtually any emoji.\n    See <https://yagpdb-cc.github.io/utilities/big-emoji-v2> for more information.\n\n    Author: dvoraknt <https://github.com/dvoraknt>\n\n    Twemoji images are licensed under CC-BY 4.0 and are provided by the official Twemoji project at https://github.com/twitter/twemoji\n*/}}\n\n{{deleteTrigger 0}}\n{{if .CmdArgs}}\n    {{$waitMsg := sendMessageRetID nil (print "<a:loading:844230891781226496> **Loading** <a:loading:844230891781226496>")}}\n    {{$embed := sdict}}{{$subArg := index .CmdArgs 0}}{{$emoji := ""}}{{$defEmoji := ""}}{{$fields := cslice}}{{$chan := 0}}{{$msg := 0}}{{$error := false}}{{$ogMsg := ""}}\n\n    {{if reFind `^(\\d{17,20})` $subArg}}\n        {{if getMessage nil $subArg}}\n            {{$msg = $subArg}}{{$chan = .nil}}\n            {{$ogMsg = (getMessage nil $subArg).Content}}\n            {{$emoji = reFindAllSubmatches `<(a)?:[\\w~]+:(\\d+)>` $ogMsg}}\n            {{$defEmoji = reFindAllSubmatches `([\\x{1f1e6}-\\x{1f1ff}]{2}|\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?(\\x{200D}\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?)*|[#\\d*]\\x{FE0F}?\\x{20E3})` $ogMsg}}\n        {{else}}\n            {{editMessage nil $waitMsg (print "**Message not found:** If the message isn\'t in <#" .Channel.ID "> you\'ll need to use the full message link. Make sure that the message has not been deleted.")}}\n            {{deleteMessage nil $waitMsg 10}}\n            {{$error = true}}\n        {{end}}\n\n    {{else if $linkArg := reFind `(?:[^<]|\\A)https?:\\/\\/(?:www\\.)?(?:ptb\\.|canary\\.)?discord(?:app)?\\.com\\/channels\\/(\\d{17,19})\\/(\\d{17,19})\\/(\\d{17,19})(?:[^\\d]|\\z)|<https?:\\/\\/(?:www\\.)?(?:ptb\\.|canary\\.)?discord(?:app)?\\.com\\/channels\\/(\\d{17,19})\\/(\\d{17,19})\\/(\\d{17,19})(?:[^>\\d]|\\z)` $subArg}}\n        {{$linkVar := (reFindAll `\\d+` $linkArg)}}\n        {{$chan = index $linkVar 1}}{{$msg = index $linkVar 2}}\n        {{if getMessage $chan $msg}}\n            {{$ogMsg = (getMessage $chan $msg).Content}}\n            {{$emoji = reFindAllSubmatches `<(a)?:[\\w~]+:(\\d+)>` $ogMsg}}\n            {{$defEmoji = reFindAllSubmatches `([\\x{1f1e6}-\\x{1f1ff}]{2}|\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?(\\x{200D}\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?)*|[#\\d*]\\x{FE0F}?\\x{20E3})` $ogMsg}}\n        {{else}}\n            {{editMessage nil $waitMsg (print "**Message not found:** Make sure YAGPDB has permission to read messages in <#" $chan "> and that the message has not been deleted.")}}\n            {{deleteMessage nil $waitMsg 10}}\n            {{$error = true}}\n        {{end}}\n        \n    {{else if eq $subArg "help"}}\n        {{$helpEmbed := sdict\n        \n        "title" (joinStr "" "Big Emoji Help") \n        "description" "This command will allow you to view a single emoji as a larger image or generate image/gif links for up to 25 individual emojis.\\n\\nYou can use it to view your own emojis, emojis in other messages, used as reactions, or even in a different channel. Use any message ID or message link to extract the emojis and enlarge them.\\n\\nTo capture reactions use the optional `-re` flag after the message ID or link." \n        "color" 4645612 \n        "fields" (cslice \n            (sdict "name" "Syntax" "value" "```elm\\n-bigemoji <Emoji> (minimum 1, maximum 25)\\n-bigemoji <MessageID> (use when original message exists within the same channel)\\n-bigemoji <MessageLink> (use to view reactions from anywhere that YAGPDB has read access)```" "inline" false)\n            (sdict "name" "Reaction Flag Usage" "value" "```elm\\n-bigemoji <MessageID> -re\\n-bigemoji <MessageLink> -re```" "inline" false)\n            (sdict "name" "Available Triggers" "value" "`-bigemoji` `-bigemote` `-big-emoji` `-big-emote` `-be`")\n            (sdict "name" "Information" "value" "Due to a few limitations some default emojis won\'t generate proper links or may be incorrect altogether. Most will work but some will not, sorry for any inconvenience.\\n\\nCustom emojis are displayed in their actual image size, default emojis are displayed in 72x72 as that is largest size the Twemoji CDN provides in PNG format." "inline" false)\n        )\n        "footer" (sdict "text" .Message.Author.String "icon_url" (.User.AvatarURL "256"))\n        "timestamp" currentTime\n        }}\n        {{editMessage nil $waitMsg (complexMessageEdit "content" "" "embed" (cembed $helpEmbed))}}\n        \n    {{else if eq $subArg "-re"}}\n        {{editMessage nil $waitMsg (print "**Invalid Syntax:** The `-re` flag must be placed after the message ID/link.")}}\n        {{deleteMessage nil $waitMsg 10}}\n        {{$error = true}}\n\n    {{else}}\n        {{$emoji = reFindAllSubmatches `<(a)?:[\\w~]+:(\\d+)>` .Message.Content}}\n        {{$defEmoji = reFindAllSubmatches `([\\x{1f1e6}-\\x{1f1ff}]{2}|\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?(\\x{200D}\\p{So}\\x{fe0f}?[\\x{1f3fb}-\\x{1f3ff}]?)*|[#\\d*]\\x{FE0F}?\\x{20E3})` .Message.Content}}\n    {{end}}\n    \n    {{if and (reFind `(?i)-re` (print .CmdArgs)) $ogMsg}}\n    {{$emoji = cslice.AppendSlice $emoji}}{{$defEmoji = cslice.AppendSlice $defEmoji}}\n        {{range (getMessage $chan $msg).Reactions}}\n            {{if and (ne (toInt .Emoji.ID) 0) (not .Emoji.Animated)}}\n                {{- $emoji = $emoji.AppendSlice (cslice (cslice (printf "<:%s:%d>" .Emoji.Name .Emoji.ID) "" .Emoji.ID)) -}}\n            {{else if (ne (toInt .Emoji.ID) 0) .Emoji.Animated}}\n                {{- $emoji = $emoji.AppendSlice (cslice (cslice (printf "<:%s:%d>" .Emoji.Name .Emoji.ID) "a" .Emoji.ID)) -}}\n            {{else if eq (toInt .Emoji.ID) 0}}\n                {{- $defEmoji = $defEmoji.AppendSlice (cslice (cslice .Emoji.Name)) -}}\n            {{end}}\n        {{end}}\n    {{end}}\n    \n    {{if $emoji}}\n    {{if eq (add (len $emoji) (len $defEmoji)) 1}}\n        {{with $emoji}}\n            {{$animated := index . 0 1}}\n            {{$id := str (index . 0 2)}}\n            {{$ext := ".png"}}{{$typeExt := "Image"}}\n            {{if $animated}}{{$ext = ".gif"}} {{$typeExt = "Gif"}}{{end}}\n            {{$embed.Set "image" (sdict "url" (printf "https://cdn.discordapp.com/emojis/%s%s" $id $ext))}}\n            {{- $embed.Set "description" (print "`" (index (split (index $emoji 0 0) ":") 1) "`\\n[" $typeExt " Link](https://cdn.discordapp.com/emojis/" $id $ext ")") -}}\n        {{end}}\n    {{else}}\n        {{range $emoji}}\n            {{$animated := index . 1}}\n            {{$id := index . 2}}\n            {{$ext := ".png"}}{{$typeExt := "Image"}}\n            {{if $animated}}{{$ext = ".gif"}}{{$typeExt = "Gif"}}{{end}}\n            {{- $fields = $fields.Append (sdict "name" (print "`" (index (split (index . 0) ":") 1) "`") "value" (print "[" $typeExt " Link](https://cdn.discordapp.com/emojis/" $id $ext ")") "inline" true) -}}\n        {{end}}\n        {{$embed.Set "title" "This message contains more than one emoji."}}\n        {{$embed.Set "fields" $fields}}\n    {{end}}\n    {{end}}\n    \n    {{if $defEmoji}}\n        {{$emoji_U := ""}}{{$url := "https://twemoji.maxcdn.com/v/latest/72x72/"}}\n\n        {{if eq (add (len $emoji) (len $defEmoji)) 1}}\n            {{- range toRune (index $defEmoji 0 0)}}\n                {{- $emoji_U = joinStr "-" $emoji_U (printf "%04x" .)}}\n            {{- end -}}\n            {{$url = joinStr "" $url $emoji_U ".png"}}\n            {{$embed.Set "image"  (sdict "url" $url)}}\n            {{- $embed.Set "description" (print "`" (index $defEmoji 0 0) "`\\n[Image Link](" $url ")") -}}\n        {{else}}\n            {{range $defEmoji}}\n                {{- range toRune (index . 0)}}\n                    {{- $emoji_U = joinStr "-" $emoji_U (printf "%04x" . )}}\n                {{end}}\n                {{- $fields = $fields.Append (sdict "name" (print "`" (index . 0) "`") "value" (print "[Image Link](" (joinStr "" $url $emoji_U ".png") ")") "inline" true) -}}\n                {{$emoji_U = ""}}\n            {{end}}\n            {{$embed.Set "title" "This message contains more than one emoji."}}\n            {{$embed.Set "fields" $fields}}\n        {{end}}\n    {{end}}\n        \n    {{if and (not $emoji) (not $defEmoji) (not $error) (not (eq $subArg "help"))}}\n        {{editMessage nil $waitMsg (print "This message does not contain any emojis or you have given an incorrect message ID.")}}\n        {{deleteMessage nil $waitMsg 10}}\n    {{else if and (gt (len $fields) 25) (not $error) (not (eq $subArg "help"))}}\n        {{editMessage nil $waitMsg (print "There are more than 25 emojis in the message, please try again with fewer emojis or with a different source message.")}}\n        {{deleteMessage nil $waitMsg 10}}\n    {{else if $embed}}\n        {{$embed.Set "color" 0x39ff14}}\n        {{$embed.Set "title" (joinStr "" "Big Emoji")}}\n        {{if $defEmoji}}\n            {{$embed.Set "footer" (sdict "text" (print "Default emoji not correct? Check help.\\n" .Message.Author.String "  |  -bigemoji help") "icon_url" (.User.AvatarURL "256"))}}\n        {{else}}\n            {{$embed.Set "footer" (sdict "text" (print .Message.Author.String "  |  -bigemoji help") "icon_url" (.User.AvatarURL "256"))}}\n        {{end}}\n        {{editMessage nil $waitMsg (complexMessageEdit "content" "" "embed" (cembed $embed))}}\n    {{end}}\n\n{{else}}\n    {{$failMsg := sendMessageRetID nil (print "No arguments provided! Use `-bigemoji help` for information on how to use this command.")}}\n    {{deleteMessage nil $failMsg 10}}\n{{end}}\n')),(0,o.kt)("h2",{id:"attribution"},"Attribution"),(0,o.kt)("p",null,"This command uses Twemoji images provided by the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/twitter/twemoji"},"official Twemoji project"),", which are licensed under CC-BY 4.0."),(0,o.kt)("h2",{id:"author"},"Author"),(0,o.kt)("p",null,"This custom command was written by ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dvoraknt"},"@dvoraknt"),"."))}c.isMDXComponent=!0}}]);