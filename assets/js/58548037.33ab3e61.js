"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7038],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,d=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),p=s(n),f=i,c=p["".concat(d,".").concat(f)]||p[f]||u[f]||l;return n?a.createElement(c,r(r({ref:t},m),{},{components:n})):a.createElement(c,r({ref:t},m))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=f;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o[p]="string"==typeof e?e:i,r[1]=o;for(var s=2;s<l;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},1205:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return r},default:function(){return u},frontMatter:function(){return l},metadata:function(){return o},toc:function(){return s}});var a=n(3117),i=(n(7294),n(3905));const l={title:"Send Message"},r=void 0,o={unversionedId:"utilities/send-message",id:"utilities/send-message",title:"Send Message",description:"This command is a tool for sending messages through YAGPDB, with embed support.",source:"@site/docs/utilities/send-message.md",sourceDirName:"utilities",slug:"/utilities/send-message",permalink:"/utilities/send-message",draft:!1,editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/website/docs/utilities/send-message.md",tags:[],version:"current",frontMatter:{title:"Send Message"},sidebar:"sidebar",previous:{title:"Reaction Bookmark",permalink:"/utilities/reactionbookmark"},next:{title:"Snipe Message",permalink:"/utilities/snipe-message"}},d={},s=[{value:"Trigger",id:"trigger",level:2},{value:"Usage",id:"usage",level:2},{value:"Available Flags",id:"available-flags",level:3},{value:"Flags to modify message",id:"flags-to-modify-message",level:4},{value:"Specifying fields",id:"specifying-fields",level:4},{value:"Examples",id:"examples",level:3},{value:"Create simple embed",id:"create-simple-embed",level:4},{value:"Create embed with fields",id:"create-embed-with-fields",level:4},{value:"Code",id:"code",level:2},{value:"Author",id:"author",level:2}],m={toc:s},p="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This command is a tool for sending messages through YAGPDB, with embed support."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"Differences between this and ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"simpleembed")),(0,i.kt)("p",{parentName:"admonition"},"This command is very similar to the built-in ",(0,i.kt)("inlineCode",{parentName:"p"},"simpleembed")," command, but differs in that it allows you to add fields to the embed.\nSee ",(0,i.kt)("a",{parentName:"p",href:"#specifying-fields"},"this section")," for more information.")),(0,i.kt)("h2",{id:"trigger"},"Trigger"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Type:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"Command"),(0,i.kt)("br",null),"\n",(0,i.kt)("strong",{parentName:"p"},"Trigger:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"embed")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"-embed <flags...>")," - Sends a message using the flags provided."),(0,i.kt)("p",null,"The usage of this command is very similar to that of the ",(0,i.kt)("inlineCode",{parentName:"p"},"SimpleEmbed")," built-in command; you specify certain flags to change parts of the message."),(0,i.kt)("h3",{id:"available-flags"},"Available Flags"),(0,i.kt)("h4",{id:"flags-to-modify-message"},"Flags to modify message"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The flags used to create fields are documented separately, in ",(0,i.kt)("a",{parentName:"p",href:"#specifying-fields"},"this section"),".")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Flag"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Example"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-channel <channel>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the channel where the message should be sent"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-channel #my-channel"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-color <decimal>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the color of the embed; only supports decimal color"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-color 111111"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-description <desc>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the description of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-description hello world"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-title <title>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the title of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-title very cool"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-image <url>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the image URL of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-image https://i.imgur.com/vfbFEif.jpeg"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-thumb <url>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the thumbnail URL of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-thumb https://i.imgur.com/vfbFEif.jpeg"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-author <name>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the author name of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-author foo"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-footer <text>")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the footer text of the embed"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-footer bar"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-timestamp")),(0,i.kt)("td",{parentName:"tr",align:null},"Sets the timestamp of the embed to the current time"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"-timestamp"))))),(0,i.kt)("h4",{id:"specifying-fields"},"Specifying fields"),(0,i.kt)("p",null,"At any point in the command, you can enter ",(0,i.kt)("em",{parentName:"p"},"field mode")," by using ",(0,i.kt)("inlineCode",{parentName:"p"},"-fields"),".\nAfter that, you use a combination of the following flags to specify the current field:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"/name <name>")," - Sets the name of the field.\n",(0,i.kt)("strong",{parentName:"p"},"Example:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"/name foo bar"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"/value <value>")," - Sets the value of the field.\n",(0,i.kt)("strong",{parentName:"p"},"Example:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"/value baz buz"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"/inline <bool>")," - Specifies whether the field should be inline.\n",(0,i.kt)("strong",{parentName:"p"},"Example:")," ",(0,i.kt)("inlineCode",{parentName:"p"},"/inline true")))),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("h4",{id:"create-simple-embed"},"Create simple embed"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"-embed -channel #channel -color 111 -title hello world -footer foo bar -description bar buz\n")),(0,i.kt)("p",null,"Creates a new embed in channel ",(0,i.kt)("inlineCode",{parentName:"p"},"#channel")," with the color ",(0,i.kt)("inlineCode",{parentName:"p"},"111"),", title ",(0,i.kt)("inlineCode",{parentName:"p"},"hello world"),", footer text ",(0,i.kt)("inlineCode",{parentName:"p"},"foo bar"),", and description ",(0,i.kt)("inlineCode",{parentName:"p"},"bar buz"),"."),(0,i.kt)("h4",{id:"create-embed-with-fields"},"Create embed with fields"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"-embed -color 111 -title hello world -fields /name field name 0 /value field value 0 /inline true -fields /name field name 1 /value field value 1 /inline false\n")),(0,i.kt)("p",null,"Creates a new embed in the current channel with the color ",(0,i.kt)("inlineCode",{parentName:"p"},"111"),", title ",(0,i.kt)("inlineCode",{parentName:"p"},"hello world"),", and two fields.\nThe first is inline and has the name ",(0,i.kt)("inlineCode",{parentName:"p"},"field name 0")," and the value ",(0,i.kt)("inlineCode",{parentName:"p"},"field value 0"),".\nThe second is not inline and has the name ",(0,i.kt)("inlineCode",{parentName:"p"},"field name 1")," and the value ",(0,i.kt)("inlineCode",{parentName:"p"},"field value 1"),"."),(0,i.kt)("h2",{id:"code"},"Code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-gotmpl",metastring:"file=../../../src/utilities/send.go.tmpl",file:"../../../src/utilities/send.go.tmpl"},'{{/*\n    Alternative to the simpleembed command that supports adding fields.\n    See <https://yagpdb-cc.github.io/utilities/send-message> for more information.\n\n    Author: Pedro Pessoa <https://github.com/Pedro-Pessoa>\n*/}}\n\n{{/* ACTUAL CODE DONT TOUCH */}}\n{{$capture := false}} {{$field := sdict}} {{$name := false}} {{$value := false}} {{$boolean := false}} {{$hasField := false}} {{$nameV := ""}} {{$valueV := ""}} {{$booleanV := false}} {{$color := false}} {{$colorV := 123456}} {{$fields := cslice}} {{$isEmbed := false}} {{$description := false}} {{$descriptionV := ""}} {{$channel := false}} {{$channelV := .Channel.ID}} {{$title := false}} {{$titleV := ""}} {{$image := false}} {{$imageV := sdict}} {{$thumbnail := false}} {{$thumbnailV := sdict}} {{$author := false}} {{$authorV := sdict}} {{$authorName := false}} {{$authorNameV := ""}} {{$authorIcon := false}} {{$footer := false}} {{$footerV := sdict}} {{$footerText := false}} {{$footerIcon := false}} {{$footerTextV := ""}} {{$timeStamp := false}} {{$embed := sdict}}\n{{$flags := cslice "-channel" "-fields" "-color" "-description" "-title" "-image" "-thumb" "-author" "-footer" "-timestamp"}}\n{{- range $k, $v := .CmdArgs -}}\n    {{- if eq . "-fields"}} {{$capture = true}} {{else if in $flags .}} {{$capture = false}} {{end -}}\n    {{- if $capture -}}\n        {{- $hasField = true -}}\n        {{- if eq . "/name"}} {{$name = true}} {{$value = false}} {{$boolean = false -}}\n        {{- else if eq . "/value"}} {{$name = false}} {{$value = true}} {{$boolean = false -}}\n        {{- else if eq . "/inline"}} {{$name = false}} {{$value = false}} {{$boolean = true -}}\n        {{- end -}}\n        {{- if and ($name) (not (eq . "/name"))}} {{$nameV = joinStr " " $nameV .}} {{$field.Set "name" $nameV -}}\n        {{- else if and ($value) (not (eq . "/value")) }} {{$valueV = joinStr " " $valueV .}} {{$field.Set "value" $valueV -}}\n        {{- else if $boolean}} {{if eq . "true"}} {{$booleanV = true}} {{end}} {{$field.Set "inline" $booleanV -}}\n        {{- else}} {{$field.Set "inline" $booleanV -}}\n        {{- end -}}\n    {{- end -}}\n    {{- if and (ne $valueV "") (or (and ($hasField) (not $capture)) (and ($hasField) (eq $k (sub (len $.CmdArgs) 1))) (and (eq . "-fields") ($field.Get "name")))}} {{$hasField = false}} {{$isEmbed = true}} {{$fields = $fields.Append $field}} {{$field = sdict}} {{$nameV = ""}} {{$valueV = ""}} {{$booleanV = false}} {{end -}}\n    {{- if eq . "-color"}} {{$color = true}} {{else if in $flags .}} {{$color = false}} {{end -}}\n    {{- if and ($color) (not (eq . "-color"))}} {{with toInt .}} {{$isEmbed = true}} {{$colorV = .}} {{end}} {{end -}}\n    {{- if eq . "-description"}} {{$description = true}} {{else if in $flags .}} {{$description = false}} {{end -}}\n    {{- if and ($description) (not (eq . "-description"))}} {{$isEmbed = true}} {{$descriptionV = joinStr " " $descriptionV .}} {{end -}}\n    {{- if eq . "-channel"}} {{$channel = true}} {{else if in $flags .}} {{$channel = false}} {{end -}}\n    {{- if and ($channel) (not (eq . "-channel"))}} {{$checkChannel := reReplace `<|>|#` . ""}} {{with getChannelOrThread $checkChannel}} {{$channelV = .ID}} {{end}} {{end -}}\n    {{- if eq . "-title"}} {{$title = true}} {{else if in $flags .}} {{$title = false}} {{end -}}\n    {{- if and ($title) (not (eq . "-title"))}} {{$isEmbed = true}} {{$titleV = joinStr " " $titleV .}} {{end -}}\n    {{- if eq . "-image"}} {{$image = true}} {{else if in $flags .}} {{$image = false}} {{end -}}\n    {{- if and ($image) (not (eq . "-image"))}} {{if reFind `https?:\\/\\/\\w+` .}} {{$isEmbed = true}} {{$imageV.Set "url" .}} {{end}} {{end -}}\n    {{- if eq . "-thumb"}} {{$thumbnail = true}} {{else if in $flags .}} {{$thumbnail = false}} {{end -}}\n    {{- if and ($thumbnail) (not (eq . "-thumb"))}} {{if reFind `https?:\\/\\/\\w+` .}} {{$isEmbed = true}} {{$thumbnailV.Set "url" .}} {{end}} {{end -}}\n    {{- if eq . "-author"}} {{$author = true}} {{else if in $flags .}} {{$author = false}} {{end -}}\n    {{- if $author}}\n        {{- if eq . "/name"}} {{$authorName = true}} {{$authorIcon = false -}}\n        {{- else if eq . "/icon"}} {{$authorName = false}} {{$authorIcon = true -}}\n        {{- end -}}\n        {{- if and ($authorName) (not (eq . "/name"))}} {{$authorNameV = joinStr " " $authorNameV .}} {{$isEmbed = true}} {{$authorV.Set "name" $authorNameV -}}\n        {{- else if and ($authorIcon) (not (eq . "/icon"))}} {{if reFind `https?:\\/\\/\\w+` .}} {{$isEmbed = true}} {{$authorV.Set "icon_url" .}} {{end -}}\n        {{- end -}}\n    {{- end -}}\n    {{- if eq . "-footer"}} {{$footer = true}} {{else if in $flags .}} {{$footer = false}} {{end -}}\n    {{- if $footer}}\n        {{- if eq . "/text"}} {{$footerText = true}} {{$footerIcon = false -}}\n        {{- else if eq . "/icon"}} {{$footerText = false}} {{$footerIcon = true -}}\n        {{- end -}}\n        {{- if and ($footerText) (not (eq . "/text"))}} {{$footerTextV = joinStr " " $footerTextV .}} {{$isEmbed = true}} {{$footerV.Set "text" $footerTextV -}}\n        {{- else if and ($footerIcon) (not (eq . "/icon"))}} {{if reFind `https?:\\/\\/\\w+` .}} {{$isEmbed = true}} {{$footerV.Set "icon_url" .}} {{end -}}\n        {{- end -}}\n    {{- end -}}\n    {{- if eq . "-timestamp"}} {{$timeStamp = currentTime}} {{$isEmbed = true}} {{end -}}\n{{- end -}}\n\n{{if $isEmbed}}\n{{$embed.Set "fields" $fields}} {{$embed.Set "color" $colorV}} {{$embed.Set "description" $descriptionV}} {{$embed.Set "title" $titleV}} {{$embed.Set "image" $imageV}} {{$embed.Set "thumbnail" $thumbnailV}} {{$embed.Set "author" $authorV}} {{$embed.Set "footer" $footerV}} {{with $timeStamp}} {{$embed.Set "timestamp" .}} {{end}}\n{{sendMessage $channelV (cembed $embed)}}\n{{end}}\n')),(0,i.kt)("h2",{id:"author"},"Author"),(0,i.kt)("p",null,"This custom command was written by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Pedro-Pessoa"},"@Pedro-Pessoa"),"."))}u.isMDXComponent=!0}}]);